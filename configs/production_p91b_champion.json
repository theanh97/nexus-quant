{
  "_comment": "PRODUCTION CONFIG \u2014 P91b Champion + Vol Tilt + Vol Regime Overlay (Phase 129)",
  "_version": "2.13.0",
  "_created": "2026-02-21",
  "_validated": "Phases 91-129: walk-forward stable, OOS validated; breadth regime switching v2.2.0; dispersion v2.3.0; TS overlay v2.4.0; TS fine-tune v2.5.0; F168 v2.6.0; vol fine-tune v2.7.0; breadth lb=192 LOYO 5/5 v2.8.0 OBJ=2.2095; TS short=12h long=96h LOYO 4/5 WF 2/2 v2.9.0 OBJ=2.2423; TS thresh re-sweep P168 rt=0.60 rs=0.40 bs=1.25 LOYO 4/5 v2.10.0 OBJ=2.3510 (\u0394=+0.1087); boost fine-tune P169 bt=0.25 bs=1.50 LOYO 3/5 v2.11.0 OBJ=2.3599 (\u0394=+0.0089); disp fine-tune P170 scale=1.05 thr=0.60 pct=240 LOYO 4/5 v2.12.0 OBJ=2.4148 (\u0394=+0.0549); Vol overlay re-tune (P171): scale=0.4/boost=0.1/thr=0.5 LOYO 3/5 \u0394=+0.0005 OBJ=2.4153 \u2014 PRODUCTION v2.13.0",
  "run_name": "production_p91b",
  "seed": 42,
  "venue": {
    "name": "binance_usdm",
    "kind": "crypto_perp",
    "vip_tier": 0,
    "maker_fee_rate": 0.0002,
    "taker_fee_rate": 0.0005
  },
  "data": {
    "provider": "binance_rest_v1",
    "symbols": [
      "BTCUSDT",
      "ETHUSDT",
      "SOLUSDT",
      "BNBUSDT",
      "XRPUSDT",
      "ADAUSDT",
      "DOGEUSDT",
      "AVAXUSDT",
      "DOTUSDT",
      "LINKUSDT"
    ],
    "bar_interval": "1h",
    "cache_dir": ".cache/binance_rest"
  },
  "data_policy": {
    "_comment": "Hard gate: production only accepts real, whitelisted providers",
    "require_real_data": true,
    "allowed_providers": [
      "binance_rest_v1"
    ],
    "strict_unknown_provider": true,
    "allow_synthetic": false
  },
  "execution": {
    "style": "taker",
    "slippage_bps": 3.0,
    "spread_bps": 0.0,
    "impact": {
      "model": "none",
      "coef_bps": 0.0
    }
  },
  "costs": {
    "fee_rate": 0.0005,
    "slippage_rate": 0.0003,
    "taker_fee_rate": 0.0005,
    "maker_fee_rate": 0.0002,
    "cost_multiplier": 1.0
  },
  "risk": {
    "max_drawdown": 0.25,
    "max_turnover_per_rebalance": 0.8,
    "max_gross_leverage": 0.7,
    "max_position_per_symbol": 0.3
  },
  "volume_tilt": {
    "_comment": "Phase 111-113: reduce leverage when aggregate volume momentum is high (crowded market)",
    "_validated": "3/4 WF windows positive, avg \u0394=+0.066, ratio perfectly stable (std=0.00)",
    "enabled": true,
    "lookback_bars": 168,
    "tilt_ratio": 0.65,
    "signal": "vol_mom_z",
    "condition": "z_score > 0 \u2192 multiply returns by tilt_ratio",
    "mechanism": "Sum perp_volume across all symbols \u2192 log momentum (168h) \u2192 rolling z-score \u2192 contrarian tilt"
  },
  "vol_regime_overlay": {
    "_comment": "Phase 127-129 + fine-tuned P156: reduce leverage + tilt F168 when BTC price vol is high",
    "_validated": "P129 LOYO 3/5 wins avg \u0394=+0.232; P156 fine-tune: scale 0.50\u21920.40 + boost 0.20\u21920.15, LOYO 4/5 OBJ=2.1448; P171 retune LOYO 3/5 \u0394=+0.0005",
    "enabled": true,
    "window_bars": 168,
    "threshold": 0.5,
    "scale_factor": 0.4,
    "f144_boost": 0.1,
    "signal": "btc_rolling_price_vol",
    "condition": "ann_vol > 0.50 \u2192 tilt F168 +15% and scale leverage \u00d70.40",
    "mechanism": "BTC hourly returns \u2192 rolling 168h std \u00d7 \u221a8760 \u2192 if > 0.50 \u2192 reduce \u00d70.40 + tilt F168 +15%. Fine-tuned P156: less aggressive = more alpha in vol regime."
  },
  "ensemble": {
    "_comment": "4-signal blend \u2014 DO NOT remove v1 (regime insurance, Phase 102)",
    "weights": {
      "v1": 0.2747,
      "i460bw168": 0.1967,
      "i415bw216": 0.3247,
      "f144": 0.2039
    },
    "signals": {
      "v1": {
        "strategy": "nexus_alpha_v1",
        "params": {
          "k_per_side": 2,
          "w_carry": 0.35,
          "w_mom": 0.45,
          "w_mean_reversion": 0.2,
          "momentum_lookback_bars": 336,
          "mean_reversion_lookback_bars": 72,
          "vol_lookback_bars": 168,
          "target_gross_leverage": 0.35,
          "rebalance_interval_bars": 60
        }
      },
      "i460bw168": {
        "strategy": "idio_momentum_alpha",
        "params": {
          "k_per_side": 4,
          "lookback_bars": 460,
          "beta_window_bars": 168,
          "target_gross_leverage": 0.3,
          "rebalance_interval_bars": 48
        }
      },
      "i415bw216": {
        "strategy": "idio_momentum_alpha",
        "params": {
          "k_per_side": 4,
          "lookback_bars": 415,
          "beta_window_bars": 216,
          "target_gross_leverage": 0.3,
          "rebalance_interval_bars": 48
        }
      },
      "f144": {
        "strategy": "funding_momentum_alpha",
        "params": {
          "k_per_side": 2,
          "funding_lookback_bars": 168,
          "direction": "contrarian",
          "target_gross_leverage": 0.25,
          "rebalance_interval_bars": 24
        }
      }
    }
  },
  "monitoring": {
    "_comment": "Thresholds for live monitoring \u2014 halt trading if breached",
    "halt_conditions": {
      "rolling_30d_sharpe_below": -1.0,
      "max_drawdown_pct": 15.0,
      "max_daily_loss_pct": 5.0,
      "correlation_with_btc_above": 0.6,
      "consecutive_losing_days": 14
    },
    "warning_conditions": {
      "rolling_30d_sharpe_below": 0.0,
      "drawdown_pct_above": 8.0,
      "daily_turnover_above_pct": 50.0
    },
    "expected_performance": {
      "annual_sharpe_backtest": 2.4153,
      "annual_sharpe_realistic": 0.8,
      "annual_sharpe_conservative": 0.7,
      "max_drawdown_backtest_pct": 25.1,
      "expected_live_drawdown_pct": 15.0,
      "is_oos_degradation_ratio": 0.5
    }
  },
  "position_sizing": {
    "_comment": "Guidelines for different account sizes",
    "target_gross_leverage": 0.35,
    "max_gross_leverage": 0.7,
    "sizing_rules": {
      "small_account_under_10k": {
        "note": "Minimum viable: $10K. Below this, fees eat too much alpha.",
        "leverage": 0.35,
        "max_position_usd": 3500
      },
      "medium_account_10k_100k": {
        "note": "Sweet spot. Full strategy as designed.",
        "leverage": 0.35,
        "max_position_usd_pct": 0.3
      },
      "large_account_100k_plus": {
        "note": "May need to reduce leverage or add execution optimization.",
        "leverage": 0.25,
        "max_position_usd_pct": 0.2,
        "consider_maker_orders": true
      }
    }
  },
  "operational": {
    "rebalance_frequency": "hourly",
    "data_refresh_interval_minutes": 60,
    "warmup_bars_required": 500,
    "timezone": "UTC",
    "api_rate_limit_buffer_pct": 20,
    "max_retries_on_api_error": 3,
    "retry_delay_seconds": 5
  },
  "global_ls_overlay": {
    "_comment": "Phase 118b: Binance Vision global long/short ratio z-score overlay",
    "_validated": "IS avg \u0394=+0.380 (2022/2023/2024), OOS 2025 \u0394=+0.1764 \u2014 WF PASS (3 IS + OOS primary gate)",
    "_candidate_notes": "taker_ls_z168_low also passes (OOS25=+0.07, OOS26=+0.17) \u2014 consider Phase 119 test",
    "enabled": true,
    "metric": "global_ls_ratio",
    "lookback_bars": 168,
    "tilt_ratio": 0.65,
    "direction": "reduce_on_low",
    "mechanism": "Binance Vision global L/S account ratio \u2192 log momentum \u2192 rolling 168h z-score \u2192 when z < 0 (crowd net short) \u2192 reduce portfolio returns by tilt_ratio=0.65 (contrarian protection)",
    "data_source": "data.binance.vision daily metrics CSV resampled to 1h; local cache in .cache/binance_vision_metrics/",
    "walk_forward": {
      "2022_is": "+0.270",
      "2023_is": "+0.480",
      "2024_is": "+0.390",
      "2025_oos": "+0.1764",
      "2026_ytd_oos": "-0.0297 (51 days, within noise)"
    },
    "date_integrated": "2026-02-21"
  },
  "breadth_regime_switching": {
    "_comment": "Phase 144-146 + fine-tuned P158: Breadth regime classifier for dynamic weight switching",
    "_validated": "P144-P146 orig; P158 param sweep LOYO 5/5 (perfect!) OBJ=2.2095 (\u0394=+0.0647) \u2014 lb=192 pw=336 p=0.35/0.65",
    "enabled": true,
    "n_regimes": 3,
    "signal": "cross_sectional_price_breadth",
    "breadth_lookback_bars": 192,
    "rolling_percentile_window": 336,
    "p_low": 0.35,
    "p_high": 0.65,
    "regime_weights": {
      "LOW": {
        "_regime": "LOW momentum (<35th pct breadth) \u2014 defensive",
        "v1": 0.2747,
        "i460bw168": 0.1967,
        "i415bw216": 0.3247,
        "f168": 0.2039
      },
      "MID": {
        "_regime": "MID momentum (35-65%) \u2014 balanced",
        "v1": 0.16,
        "i460bw168": 0.22,
        "i415bw216": 0.37,
        "f168": 0.25
      },
      "HIGH": {
        "_regime": "HIGH momentum (>65th pct) \u2014 momentum-heavy",
        "v1": 0.05,
        "i460bw168": 0.25,
        "i415bw216": 0.45,
        "f168": 0.25
      }
    },
    "mechanism": "At each bar: compute % symbols with positive 192h return (breadth). Rolling percentile rank vs prior 336h. If <35th pct \u2192 LOW weights. If 35-65% \u2192 MID weights. If >65% \u2192 HIGH weights. P158 fine-tune: lb=192 (8-day cycle better than 7-day), thresholds 0.35/0.65 (larger MID band)."
  },
  "funding_dispersion_overlay": {
    "_comment": "Phase 148: Funding rate cross-sectional dispersion boost \u2014 fine-tuned P170",
    "_validated": "P148 orig LOYO 3/5 OBJ=1.8886; P170 fine-tune scale=1.05 thr=0.60 pct=240 LOYO 4/5 OBJ=2.4148 (\u0394=+0.0549). Key finding: scale was over-boosting (1.15\u21921.05), shorter lookback (336\u2192240) more responsive",
    "enabled": true,
    "signal": "funding_rate_cross_sectional_std",
    "percentile_window": 240,
    "boost_threshold_pct": 0.6,
    "boost_scale": 1.05,
    "mechanism": "At each bar: compute std of funding rates across all 10 symbols. Rolling 240h percentile rank. If std_pct > 0.60 \u2192 boost portfolio returns \u00d71.05. P170 fine-tune: scale 1.15\u21921.05 (less aggressive, TS overlay already handles amplification), thr 0.75\u21920.60 (wider but gentler trigger), pct 336\u2192240 (more responsive 10-day window). LOYO 4/5 \u0394=+0.0549."
  },
  "funding_term_structure_overlay": {
    "_comment": "Phase 150/152/164-165: Bidirectional funding term structure spread overlay \u2014 windows fine-tuned P164-165",
    "_validated": "P150b LOYO 4/5, avg_delta=+0.1600, OBJ=2.0079; P152 WF 2/2 avg_delta=+0.1077, fine-tuned OBJ=2.0851; P164-165 window sweep: short=12h long=96h LOYO 4/5 WF 2/2 avg_delta=+0.1264 OBJ=2.2423 (\u0394=+0.0328 vs v2.8.0); P168 threshold re-sweep rt=0.60 rs=0.40 bs=1.25 LOYO 4/5 OBJ=2.3510; P169 boost fine-tune bt=0.25 bs=1.50 LOYO 3/5 OBJ=2.3599 (\u0394=+0.0089)",
    "enabled": true,
    "signal": "funding_term_structure_spread",
    "short_window_bars": 12,
    "long_window_bars": 96,
    "rolling_percentile_window": 336,
    "reduce_threshold": 0.6,
    "reduce_scale": 0.4,
    "boost_threshold": 0.25,
    "boost_scale": 1.5,
    "mechanism": "spread = rolling_mean(cross-sectional funding, 12h) - rolling_mean(cross-sectional funding, 96h). Rolling percentile (336h). If spread_pct > 60th: scale\u00d70.40. If spread_pct < 25th: scale\u00d71.50. P168 re-sweep: rt=0.70\u21920.60, rs=0.60\u21920.40, bs=1.15\u21921.25. P169 fine-tune: bt=0.30\u21920.25 (tighter boost window), bs=1.25\u21921.50 (stronger boost). Peak at bs=1.50 confirmed (bs=1.60 regresses). LOYO 3/5 \u0394=+0.0089."
  }
}